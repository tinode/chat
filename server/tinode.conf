{
	"listen": ":6060",
	"static_mount": "/x/",
	"grpc_listen": ":6061",
	"api_key_salt": "T713/rYYgW7g4m3vG6zGRh7+FM1t0T8j13koXScOAj4=",
	"max_message_size": 262144,
	"max_subscriber_count": 128,
	"max_tag_count": 16,
	
	"tls": {
		"enabled": false,
		"http_redirect": ":80",
		"strict_max_age": 604800,
		"autocert": {
			"cache": "/etc/letsencrypt/live/your.domain.here",
			"email": "use.your.own.email-or-remove-this-line@example.com",
			"domains": ["use-you-own-domain.example.com"]
		}
	},
	
	"auth_config": {
		"token": {
			"expire_in": 1209600,
			"serial_num": 1,
			"key": "wfaY2RgF2S1OQI/ZlK+LSrp1KB2jwAdGAIHQ7JZn+Kc="
		}
	},

	"store_config": {
		"worker_id": 1,
		"uid_key": "la6YsO+bNX/+XIkOqc5Svw==",
		"use_adapter": "rethinkdb",
		"adapters": {
			"mysql": {
				"dsn": "root@tcp(localhost)/tinode?parseTime=true",
				"database": "tinode"
			},
			"rethinkdb": {
				"database": "tinode",
				"addresses": "localhost:28015"				
			}
		}
	},

	"acc_validation": {
		"email": {
			"add_to_tags": true,
			"required": ["auth"],
			"config": {
				"smtp_server": "smtp.example.com",
				"smtp_port": "25",
				"sender": "noreply@example.com",
				"sender_password": "super-sikrit-password",
				"msg_body_templ": "./templ/email-validation-body.templ",
				"msg_subject": "Tinode chat: confirm email",
				"headers": [],
				"max_retries": 4,
				"debug_response": "123456"
			}
		},
		"tel": {
			"add_to_tags": true,
			"config": {
				"template": "./templ/sms-validation.templ",
				"max_retries": 4,
				"debug_response": "123456"
			}
		}		
	},

	"push": [
		{
			"name":"stdout",
			"config": {
				"enabled": false
			}
		},
		{
			"name":"fcm",
			"config": {
				"enabled": false,
				"buffer": 1024,
				"api_key": "Get your own at https://console.firebase.google.com/project/**NAME-OF-YOUR-PROJECT**/settings/cloudmessaging",
				"time_to_live": 3600,
				"collapse_key": "",
				"icon": "ic_logo_push",
				"icon_color": "#3949AB"
			}
		}
	],

	"cluster_config": {
		"enabled": false,
		"nodes": [
			{"name": "one", "addr":"localhost:12001"}, 
			{"name": "two", "addr":"localhost:12002"}, 
			{"name": "three", "addr":"localhost:12003"}
		],
		"self": "one",
		"failover": {
			"enabled": true,
			"heartbeat": 100,
			"vote_after": 8,
			"node_fail_after": 16
		}
	},
		
	"plugins": [
		{
			"enabled": false,
			"name": "python_chat_bot",
			"timeout": 20000,
			"filters": {
				"account": "C"
			},
			"failure_code": 0,
			"failure_text": null,
			"service_addr": "tcp://localhost:40051"
		}
	]
}
